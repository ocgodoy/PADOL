[{"/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/index.js":"1","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/App.js":"2","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/MainRouter.js":"3","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/core/Home.js":"4","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/core/Menu.js":"5","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/user/Signup.js":"6","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/user/Signin.js":"7","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/user/Profile.js":"8","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/user/Users.js":"9","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/user/EditProfile.js":"10","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/user/FindPeople.js":"11","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/auth/PrivateRoute.js":"12","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/post/NewPost.js":"13","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/post/ExpiredPost.js":"14","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/post/EditPost.js":"15","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/post/SinglePost.js":"16","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/auth/index.js":"17","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/post/Posts.js":"18","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/user/apiUser.js":"19","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/user/FollowProfileButton.js":"20","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/user/ProfileTabs.js":"21","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/user/DeleteProfile.js":"22","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/post/apiPost.js":"23","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/post/Comment.js":"24","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/post/DeletePost.js":"25","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/post/DeleteComment.js":"26","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/friend/Friends.js":"27","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/friend/apiFriend.js":"28"},{"size":142,"mtime":1610119483245,"results":"29","hashOfConfig":"30"},{"size":212,"mtime":1610398922050,"results":"31","hashOfConfig":"30"},{"size":1572,"mtime":1610398922051,"results":"32","hashOfConfig":"30"},{"size":295,"mtime":1611665590219,"results":"33","hashOfConfig":"30"},{"size":2934,"mtime":1610398922051,"results":"34","hashOfConfig":"30"},{"size":3264,"mtime":1610119483248,"results":"35","hashOfConfig":"30"},{"size":2188,"mtime":1610119483248,"results":"36","hashOfConfig":"30"},{"size":4591,"mtime":1611665590224,"results":"37","hashOfConfig":"30"},{"size":1771,"mtime":1611665590225,"results":"38","hashOfConfig":"30"},{"size":4877,"mtime":1611665590224,"results":"39","hashOfConfig":"30"},{"size":3031,"mtime":1610398938771,"results":"40","hashOfConfig":"30"},{"size":451,"mtime":1610119483238,"results":"41","hashOfConfig":"30"},{"size":4751,"mtime":1611669457166,"results":"42","hashOfConfig":"30"},{"size":1397,"mtime":1610119483246,"results":"43","hashOfConfig":"30"},{"size":4454,"mtime":1611665590221,"results":"44","hashOfConfig":"30"},{"size":6376,"mtime":1611665590222,"results":"45","hashOfConfig":"30"},{"size":1543,"mtime":1611665590218,"results":"46","hashOfConfig":"30"},{"size":3044,"mtime":1611665590222,"results":"47","hashOfConfig":"30"},{"size":2566,"mtime":1611665590225,"results":"48","hashOfConfig":"30"},{"size":4157,"mtime":1610398938771,"results":"49","hashOfConfig":"30"},{"size":3058,"mtime":1610119483248,"results":"50","hashOfConfig":"30"},{"size":1017,"mtime":1610119483247,"results":"51","hashOfConfig":"30"},{"size":4738,"mtime":1611665590223,"results":"52","hashOfConfig":"30"},{"size":4278,"mtime":1611665590220,"results":"53","hashOfConfig":"30"},{"size":912,"mtime":1611665590221,"results":"54","hashOfConfig":"30"},{"size":1160,"mtime":1611665590220,"results":"55","hashOfConfig":"30"},{"size":4908,"mtime":1611665590219,"results":"56","hashOfConfig":"30"},{"size":1954,"mtime":1610398922053,"results":"57","hashOfConfig":"30"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},"8oy58k",{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"60"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"60"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"60"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"60"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89","usedDeprecatedRules":"60"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"60"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"60"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"60"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103","usedDeprecatedRules":"60"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"108","usedDeprecatedRules":"60"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"115","usedDeprecatedRules":"60"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"118","usedDeprecatedRules":"60"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"121","usedDeprecatedRules":"60"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"124","usedDeprecatedRules":"125"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"128","usedDeprecatedRules":"60"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},"/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/index.js",[],["131","132"],"/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/App.js",[],"/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/MainRouter.js",[],"/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/core/Home.js",[],"/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/core/Menu.js",["133"],"import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { signout, isAuthenticate, isActive } from '../auth/index'\n\nconst Menu = ({ history }) => (\n  <div>\n    <ul className='nav nav-tabs bg-primary'>\n      <li className='nav-item'>\n        <Link className='nav-link' style={isActive(history, '/')} to='/'>\n          Home\n        </Link>\n      </li>\n      <li className='nav-item'>\n        <Link\n          className='nav-link'\n          style={isActive(history, '/users')}\n          to='/users'\n        >\n          Users\n        </Link>\n      </li>\n      {!isAuthenticate() ? (\n        <>\n          <li className='nav-item'>\n            <Link\n              className='nav-link'\n              style={isActive(history, '/signup')}\n              to='/signup'\n            >\n              Sign Up\n            </Link>\n          </li>\n          <li className='nav-item'>\n            <Link\n              className='nav-link'\n              style={isActive(history, '/signin')}\n              to='/signin'\n            >\n              Sign In\n            </Link>\n          </li>\n        </>\n      ) : (\n        ''\n      )}\n\n      {isAuthenticate() ? (\n        <>\n          <li className='nav-item'>\n            <Link\n              className='nav-link'\n              style={isActive(history, `/user/${isAuthenticate().user._id}`)}\n              to={`/user/${isAuthenticate().user._id}`}\n            >\n              {isAuthenticate().user.pseudo}'s profile\n            </Link>\n          </li>\n          <li className='nav-item'>\n            <Link\n              className='nav-link'\n              style={isActive(\n                history,\n                `/user/findpeople/${isAuthenticate().user._id}`\n              )}\n              to={`/user/findpeople/${isAuthenticate().user._id}`}\n            >\n              Find People\n            </Link>\n          </li>\n          <li className='nav-item'>\n            <Link\n              className='nav-link'\n              style={isActive(history, '/post/new')}\n              to='/post/new'\n            >\n              Create Post\n            </Link>\n          </li>\n          <li className='nav-item'>\n            <Link\n              className='nav-link'\n              style={isActive(\n                history,\n                `/friends/all/${isAuthenticate().user._id}`\n              )}\n              to={`/friends/all/${isAuthenticate().user._id}`}\n            >\n              Friends\n            </Link>\n          </li>\n          <li className='nav-item'>\n            <a\n              className='nav-link'\n              style={isActive(history, '/signout', {\n                cursor: 'pointer',\n                color: '#fff'\n              })}\n              onClick={() => signout(() => history.push('/'))}\n            >\n              Sign Out\n            </a>\n          </li>\n        </>\n      ) : (\n        ''\n      )}\n    </ul>\n  </div>\n)\n\nexport default withRouter(Menu)\n","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/user/Signup.js",[],"/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/user/Signin.js",[],"/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/user/Profile.js",[],"/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/user/Users.js",[],"/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/user/EditProfile.js",["134","135","136","137","138"],"import React, { Component } from 'react';\nimport { getUser, update, updateLocalStorage } from './apiUser';\nimport { isAuthenticate } from '../auth';\nimport { Redirect } from 'react-router-dom';\nimport DefaultAvatar from '../images/avatar.png';\n\nclass EditProfile extends Component {\n  constructor() {\n    super();\n    this.state = {\n      id: '',\n      email: '',\n      name: '',\n      password: '',\n      redirectToProfile: false,\n      error: '',\n      loading: false,\n      fileSize: 0\n    };\n  }\n\n  componentDidMount() {\n    this.userData = new FormData();\n    const userId = this.props.match.params.userId;\n    const token = isAuthenticate().token;\n    getUser(userId, token).then(data => {\n      if (!data || data.err) console.log(data.err);\n      else {\n        this.setState({ id: data._id, email: data.email, name: data.name });\n      }\n    });\n  }\n\n  handleChange = name => e => {\n    let value = name === 'photo' ? e.target.files[0] : e.target.value;\n    let fileSize = name === 'photo' ? e.target.files[0].size : 0;\n    this.userData.set(name, value);\n    this.setState({ [name]: value, error: '', fileSize });\n  };\n\n  clickSubmit = e => {\n    e.preventDefault();\n    if (this.isValid()) {\n      this.setState({ loading: true });\n      const { id, name, email, password } = this.state;\n      // const user = { name, email, password: password || undefined }\n      const token = isAuthenticate().token;\n      update(id, token, this.userData).then(res => {\n        if (res.err) console.log(res.err);\n        else {\n          updateLocalStorage(res, () => {\n            this.setState({\n              redirectToProfile: true\n            });\n          });\n        }\n      });\n    }\n  };\n\n  isValid = () => {\n    const { name, email, password, fileSize } = this.state;\n    const reg = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    if (fileSize > 300000) {\n      this.setState({ error: 'File size should be less than 300kb ' });\n      return false;\n    } else if (name.length === 0) {\n      this.setState({ error: 'Name is required' });\n      return false;\n    } else if (!reg.test(email.toLowerCase())) {\n      this.setState({ error: 'A valid Email is required' });\n      return false;\n    } else if (password.length > 0 && password.length < 6) {\n      this.setState({ error: 'Password must have at least 6 characters' });\n      return false;\n    }\n    return true;\n  };\n\n  signUpForm = (name, email, password) => (\n    <form>\n      <div className='form-group'>\n        <label className='text-muted'>Profile Photo</label>\n        <input\n          onChange={this.handleChange('photo')}\n          type='file'\n          accept='images/*'\n          className='form-control'\n        />\n      </div>\n      <div className='form-group'>\n        <input\n          onChange={this.handleChange('name')}\n          value={name}\n          type='text'\n          className='form-control'\n        />\n      </div>\n      <div className='form-group'>\n        <label className='text-muted'>Email</label>\n        <input\n          onChange={this.handleChange('email')}\n          value={email}\n          type='email'\n          className='form-control'\n        />\n      </div>\n      <div className='form-group'>\n        <label className='text-muted'>Password</label>\n        <input\n          onChange={this.handleChange('password')}\n          value={password}\n          type='password'\n          className='form-control'\n        />\n      </div>\n      <button onClick={this.clickSubmit} className='btn btn-raised btn-primary'>\n        Update\n      </button>\n    </form>\n  );\n\n  render() {\n    const {\n      name,\n      email,\n      password,\n      id,\n      redirectToProfile,\n      error,\n      loading\n    } = this.state;\n    if (redirectToProfile) return <Redirect to={`/user/${id}`} />;\n    return (\n      <div className='container'>\n        <h2 className='mt-5 mb-5'>Edit Profile</h2>\n        <div\n          className='alert alert-danger'\n          style={{ display: error ? '' : 'none' }}\n        >\n          {error}\n        </div>\n        {loading ? (\n          <div className='jumbotron text-center'>\n            <h2>Loading...</h2>\n          </div>\n        ) : (\n          ''\n        )}\n\n        <img\n          src={`${process.env.REACT_APP_API_URL}/user/photo/${id}`}\n          onError={i => (i.target.src = `${DefaultAvatar}`)}\n          style={{ width: '30%', height: '15vw', objectFit: 'cover' }}\n          alt={name}\n        />\n\n        {this.signUpForm(name, email, password)}\n      </div>\n    );\n  }\n}\n\nexport default EditProfile;\n","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/user/FindPeople.js",["139","140","141","142","143","144","145","146"],"import React, { Component } from 'react';\nimport { findPeople, getAllUser} from './apiUser';\nimport DefaultProfile from '../images/avatar.png';\nimport { isAuthenticate } from '../auth';\nimport { ReactSearchAutocomplete } from 'react-search-autocomplete'\nimport { Redirect } from 'react-router-dom';\nimport { AiFillMail } from 'react-icons/ai';\nimport { FaUserCircle } from 'react-icons/fa';\n\nclass Users extends Component {\n  constructor() {\n    super();\n    this.state = {\n      users: [],\n      error: '',\n      pseudoTable: [],\n      emailTable: [],\n      researchType: \"pseudo\",\n      redirect: false,\n      id_redirect: undefined\n    };\n  }\n\n  componentDidMount() {\n    const userId = isAuthenticate().user._id;\n    const token = isAuthenticate().token;\n    var pseudoTable = [];\n    var emailTable = [];\n    getAllUser().then(users => (users.forEach((user) => {\n      pseudoTable.push({id: user._id, name: user.about.pseudo});\n      emailTable.push({id: user._id, name: user.auth.email})\n    }),\n    this.setState({pseudoTable: pseudoTable}),\n    this.setState({emailTable: emailTable})\n\n    ))\n\n\n  }\n\n  setSearchToEmail = e => {\n    e.preventDefault();\n    this.setState({researchType: \"email\"})\n  };\n\n  setSearchToPseudo = e => {\n    e.preventDefault();\n    this.setState({researchType: \"pseudo\"})\n  };\n\n  render() {\n\n  const {pseudoTable, emailTable}= this.state\n  console.log(\"users vaut \" + JSON.stringify(pseudoTable))\n  const handleOnSearch = (string, cached) => {\n    // onSearch returns the string searched and if\n    // the values are cached. If the values are cached\n    // \"cached\" contains the cached values, if not, returns false\n    console.log(string, cached)\n  }\n\n  const handleOnSelect = (item) => {\n    // the item selected\n    console.log(item)\n    this.setState({id_redirect: item.id})\n    this.setState({redirect: true})\n  }\n\n  const handleOnFocus = () => {\n    console.log('Focused')\n  }\n\n    const {open, followMessage, redirect, id_redirect, researchType } = this.state;\n    if (researchType === \"pseudo\") var users = pseudoTable\n    if (researchType === \"email\") var users = emailTable\n    if (redirect) return <Redirect to={`/user/${id_redirect}`} />;\n    return (\n      <div>\n          <div className='jumbotron'>\n            <h2 className='mt-5 mb-5'>Find your friends</h2>\n          </div>\n          <div>\n          <button className='btn btn-raised btn-primary' onClick= {this.setSearchToPseudo}>\n          <FaUserCircle />\n          </button>\n          <button className='btn btn-raised btn-primary' onClick= {this.setSearchToEmail}>\n          <AiFillMail />\n          </button>\n          </div>\n          <div className='container'>\n            <div style={{ width: 400 }}>\n              <ReactSearchAutocomplete\n                items={users}\n                onSearch={handleOnSearch}\n                onSelect={handleOnSelect}\n                onFocus={handleOnFocus}\n                autoFocus\n              />\n            </div>\n\n      </div>\n      </div>\n    );\n  }\n}\n\nexport default Users;\n","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/auth/PrivateRoute.js",["147"],"import React, { Component } from 'react'\nimport { isAuthenticate } from '.'\nimport { Route, Redirect } from 'react-router-dom'\n\nconst PrivateRoute = ({ componen: Component, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      isAuthenticate() ? (\n        <Component {...props} />\n      ) : (\n        <Redirect\n          to={{ pathname: '/signin', state: { from: props.location } }}\n        />\n      )}\n  />\n)\n\nexport default PrivateRoute\n","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/post/NewPost.js",["148","149","150"],"import React, { Component, useState } from 'react';\nimport DatePicker from \"react-datepicker\";\nimport { isAuthenticate } from '../auth';\nimport { Redirect } from 'react-router-dom';\nimport { createPost } from './apiPost';\n\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nclass NewPost extends Component {\n  constructor() {\n    super();\n    this.state = {\n      title: '',\n      caption: '',\n      viewsLimit:'',\n      expiryDate:'',\n      photo: '',\n      user: {},\n      redirectToProfile: false,\n      error: '',\n      loading: false,\n      fileSize: 0\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n  \n  componentDidMount() {\n    this.postData = new FormData();\n    this.setState({ user: isAuthenticate().user });\n  }\n  \n  handleChange = name => e => {\n    let value = name === 'photo' ? e.target.files[0] : e.target.value;\n    let fileSize = name === 'photo' ? e.target.files[0].size : 0;\n    this.postData.set(name, value);\n    this.setState({ [name]: value, error: '', fileSize });\n    console.log(\"affichage state\",this.state)\n    console.log(value);\n  };\n\n  handleDateChange = date => {\n    console.log(date);\n    this.postData.set('expiryDate', date);\n    this.setState({\n      expiryDate: date,\n    })\n  }\n  \n  clickSubmit = e => {\n    e.preventDefault();\n    if (this.isValid()) {\n      this.setState({ loading: true });\n      const { user } = this.state;\n      const token = isAuthenticate().token;\n      this.postData.set(\"userId\", user._id)\n      createPost(user._id, token, this.postData).then(res => {\n        if (res.error) console.log(res.error);\n        else {\n          this.setState({ redirectToProfile: true });\n        }\n      });\n    }\n  };\n\n  isValid = () => {\n    const { title, caption, photo, fileSize, viewsLimit, expiryDate } = this.state;\n    if (fileSize > 300000) {\n      this.setState({ error: 'File size should be less than 300kb ' });\n      return false;\n    } else if (title.length === 0 || caption === 0 || photo.size === undefined) {\n      this.setState({ error: 'Please fill in the required fields' });\n      return false;\n    }\n    return true;\n  };\n  \n  newPostForm = (title, caption, viewsLimit, expiryDate) => (\n    <form>\n    <div className='form-group'>\n    <label className='text-muted'>Picture</label>\n    <input\n    onChange={this.handleChange('photo')}\n    type='file'\n    accept='images/*'\n    className='form-control'\n    />\n    </div>\n    \n    \n    <div className='form-group'>\n    <label className='text-muted'>Title</label>\n    <input\n    onChange={this.handleChange('title')}\n    value={title}\n    type='text'\n    className='form-control'\n    />\n    </div>\n    <div className='form-group'>\n    <label className='text-muted'>Caption</label>\n    <input\n    onChange={this.handleChange('caption')}\n    value={caption}\n    type='text'\n    className='form-control'\n    />\n    </div>\n    <div className='form-group'>\n    <label className='text-muted'>\n    Views Limit :\n    </label>\n    <div>\n    <select value={viewsLimit} onChange={this.handleChange('viewsLimit')}>\n    <option value=\"1000\">Aucune</option>\n    <option value=\"5\">5 vues</option>\n    <option value=\"15\">15 vues</option>\n    <option value=\"50\">50 vues</option>\n    <option value=\"200\">200 vues</option>\n    </select>\n    </div>\n    </div>\n    <div className='form-groupe'>\n      <label className='text-muted'>\n        Expires on : \n      </label>\n      <DatePicker\n        value={expiryDate}\n        onChange={this.handleDateChange} //only when value has changed\n        selected={expiryDate}\n        adjustDateOnChange\n        showTimeSelect\n        timeFormat=\"HH:mm\"\n        timeIntervals={15}\n        timeCaption=\"Time\"\n        dateFormat=\"d MMMM yyyy h:mm aa\"\n        timeInputLabel=\"No date selected\"\n      />\n\n    </div>\n    \n    <button onClick={this.clickSubmit} className='btn btn-raised btn-primary'>\n    Create\n    </button>\n    </form>\n    );\n    \n    render() {\n      const {\n        title,\n        caption,\n        redirectToProfile,\n        viewsLimit,\n        expiryDate,\n        error,\n        loading\n      } = this.state;\n      if (redirectToProfile) return <Redirect to={`/`} />;\n      return (\n        <div className='container'>\n        <h2 className='mt-5 mb-5'>Create Post</h2>\n        <div\n        className='alert alert-danger'\n        style={{ display: error ? '' : 'none' }}\n        >\n        {error}\n        </div>\n        {loading ? (\n          <div className='jumbotron text-center'>\n          <h2>Loading...</h2>\n          </div>\n          ) : (\n            ''\n            )}\n            \n            \n            {this.newPostForm(title, caption, viewsLimit, expiryDate)}\n            </div>\n            );\n          }\n        }\n        \n        export default NewPost;\n        ","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/post/ExpiredPost.js",["151","152","153"],"import React, { Component } from 'react';\nimport { isAuthenticate } from '../auth';\nimport { Redirect } from 'react-router-dom';\nimport DefaultAvatar from '../images/post.jpg';\nimport { createPost } from './apiPost';\nimport Test from '../images/padol_logo.png';\n\nclass ExpiredPost extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: {},\n      redirectToProfile: false,\n      error: ''\n    };\n  }\n\n  componentDidMount() {\n    this.setState({ user: isAuthenticate().user });\n  }\n\n\n\n\n  render() {\n    const {\n      redirectToProfile,\n      user,\n      error\n    } = this.state;\n    if (redirectToProfile) return <Redirect to={`/user/${user._id}`} />;\n    return (\n      <div className='container'>\n        <h2 className='mt-5 mb-5'>This post is not available anymore</h2>\n        <div className='card col-md-3 mr-5 mb-5'>\n          <h3> Post </h3>\n          <img\n            className='card-img-top'\n            src={Test}\n            style={{ width: '100%', height: '10', objectFit: 'cover' }}\n            alt='Card image cap'\n          />\n          <div className='card-body'>\n            <h5 className='card-title'>Unreadable</h5>\n\n          </div>\n        </div>\n        <div\n          className='alert alert-danger'\n          style={{ display: error ? '' : 'none' }}\n        >\n          {error}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ExpiredPost;\n","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/post/EditPost.js",["154"],"import React, { Component } from 'react';\nimport { isAuthenticate } from '../auth';\nimport { Redirect } from 'react-router-dom';\nimport DefaultAvatar from '../images/post.jpg';\nimport { getPost, editPost } from './apiPost';\n\nclass EditPost extends Component {\n  constructor() {\n    super();\n    this.state = {\n      title: '',\n      content: '',\n      post: {},\n      user: {},\n      redirectToProfile: false,\n      error: '',\n      fileSize: 0\n    };\n  }\n\n  componentDidMount() {\n    this.postData = new FormData();\n    const token = isAuthenticate().token;\n    const postId = this.props.match.params.postId;\n    getPost(postId, token).then(data => {\n      if (data.err) console.log(data.err);\n      this.setState({\n        title: data.title,\n        content: data.content,\n        post: data,\n        user: isAuthenticate().user\n      });\n    });\n  }\n\n  handleChange = name => e => {\n    let value = name === 'photo' ? e.target.files[0] : e.target.value;\n    let fileSize = name === 'photo' ? e.target.files[0].size : 0;\n    this.postData.set(name, value);\n    this.setState({ [name]: value, error: '', fileSize });\n  };\n\n  clickSubmit = e => {\n    e.preventDefault();\n    if (this.isValid()) {\n      this.setState({ loading: true });\n      const { post } = this.state;\n      const token = isAuthenticate().token;\n\n      editPost(post._id, token, this.postData).then(res => {\n        if (res.err) console.log(res.err);\n        else {\n          this.setState({ redirectToProfile: true });\n        }\n      });\n    }\n  };\n\n  isValid = () => {\n    const { title, content, fileSize } = this.state;\n    if (fileSize > 300000) {\n      this.setState({ error: 'File size should be less than 300kb ' });\n      return false;\n    } else if (title.length === 0 || content.length === 0) {\n      this.setState({ error: 'All field is required' });\n      return false;\n    }\n    return true;\n  };\n\n  newPostForm = (title, content) => (\n    <form>\n      <div className='form-group'>\n        <label className='text-muted'>Profile Photo</label>\n        <input\n          onChange={this.handleChange('photo')}\n          type='file'\n          accept='images/*'\n          className='form-control'\n        />\n      </div>\n\n      <div className='form-group'>\n        <label className='text-muted'>Title</label>\n        <input\n          onChange={this.handleChange('title')}\n          value={title}\n          type='text'\n          className='form-control'\n        />\n      </div>\n      <div className='form-group'>\n        <label className='text-muted'>content</label>\n        <input\n          onChange={this.handleChange('content')}\n          value={content}\n          type='text'\n          className='form-control'\n        />\n      </div>\n      <button onClick={this.clickSubmit} className='btn btn-raised btn-primary'>\n        Update Post\n      </button>\n    </form>\n  );\n\n  render() {\n    const { title, content, post, redirectToProfile, user, error } = this.state;\n    if (redirectToProfile) return <Redirect to={`/post/${post._id}`} />;\n    return (\n      <div className='container'>\n        <h2 className='mt-5 mb-5'>Create Post</h2>\n        <div\n          className='alert alert-danger'\n          style={{ display: error ? '' : 'none' }}\n        >\n          {error}\n        </div>\n        {!post.title ? (\n          <div className='jumbotron text-center'>\n            <h2>Loading...</h2>\n          </div>\n        ) : (\n          <>\n            <img\n              src={`${process.env.REACT_APP_API_URL}/post/photo/${post._id}`}\n              onError={i => (i.target.src = `${DefaultAvatar}`)}\n              style={{ width: '30%', height: '15vw', objectFit: 'cover' }}\n              alt={post.title}\n            />\n\n            {this.newPostForm(title, content)}\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default EditPost;\n","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/post/SinglePost.js",["155","156","157","158","159","160"],"import React, { Component, useImperativeHandle } from 'react';\nimport { isAuthenticate } from '../auth';\nimport DefaultAvatar from '../images/post.jpg';\nimport { getPost, likePost, getBase64Photo } from './apiPost';\nimport { Link, Redirect } from 'react-router-dom';\nimport DeletePost from './DeletePost';\nimport Comment from './Comment';\n\nclass SinglePost extends Component {\n  state = {\n    post: {},\n    postId:{},\n    postedBy: {},\n    B64photo:{},\n    date: null,\n    redirectToSignin: false,\n    like: {},\n    likes: 0,\n    likers: [],\n    error: undefined,\n    comments: []\n  };\n\n\n  /**********************************RECUPERATION DONNEE DE LA BDD*********************************/ \n  componentDidMount() {\n    if (!isAuthenticate()) return this.setState({ redirectToSignin: true });\n    const token = isAuthenticate().token;\n    const postId = this.props.match.params.postId;\n\n\n    getPost(postId, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n        this.setState({error: data.error})\n      }\n      else{\n          this.setState({\n            post: data.content,\n            postedBy: data.postedBy,\n            postId: data._id,\n            date: data.date,\n            views: data.views,\n            likes: data.likes.numberOfLikes, //nb de like\n            liker: data.likes.likers, //donnée Id des likers\n            like : this.checkLike(data), default: false, //verifie que la personne du like a déja liké\n            comments: data.comments\n          });\n        }\n    });\n\n\n    getBase64Photo(postId, token).then(B64photo => {\n      if (B64photo.error) console.log(B64photo.error);\n      else{\n          this.setState({\n            B64photo : B64photo,\n          });\n        }\n    });\n  }\n  /**********************************FIN DE RECUPERATION DONNEE DE LA BDD*********************************/ \n  \n  /*\n  state.like = true signifie que le statue est liké\n  sate.like = false signifie que le statue n'est pas liké\n  */\n  \n\n\n  /***************************************FONCTIONS LIKE****************************************************/\n  checkLike = data => {\n    const userId = isAuthenticate().user._id;\n    if(data.likes.likers.includes(userId)){return true}\n  };\n\n  likeToggle = () => {\n    const token = isAuthenticate().token;\n    const postId = this.props.match.params.postId;\n    const userId = isAuthenticate().user._id\n    \n    if (this.state.like == true){\n      this.state.liker.pop();\n      this.setState({ like: !this.state.like, \n                      liker: this.state.liker,\n                      likes: this.state.liker.length\n                    });\n    }\n    else{\n      this.state.liker.push(userId);\n      this.setState({ like: !this.state.like, \n                      liker : this.state.liker,\n                      likes: this.state.liker.length\n                    });\n    }\n    likePost(postId, token, userId, this.state.like, this.state.liker.length, this.state.liker )\n  };\n/***************************************FONCTION COMMENT****************************************************/\n  updateComments = comments => {\n    this.setState({ comments: comments });\n  };\n\n\n/**********************************************AFFICHAGE****************************************************/\n  render() {\n    const {\n      post,\n      postedBy,\n      postId,\n      date,\n      B64photo,\n      loading,\n      likes,\n      like,\n      views,\n      redirectToSignin,\n      error,\n      comments\n    } = this.state;\n\n    \n    let photoUrl = 'data:image/jpg;base64,' + B64photo;\n\n    const posterId = postedBy ? postedBy._id : '';\n    const posterName = postedBy ? postedBy.pseudo : 'Unknown';\n    if (redirectToSignin) return <Redirect to='/signin' />;\n    if (error) return <Redirect to='/post/expired' />;\n    return (\n      <div className='container'>\n        {!post.title ? (\n          <div className='jumbotron text-center'>\n            <h2>Loading...</h2>\n          </div>\n        ) : (\n          <>\n            <h2 className='mt-5 mb-5 display-2'>{post.title}</h2>\n            <img\n              className='card-img-top'\n              src = {photoUrl}\n              onError={i => (i.target.src = `${DefaultAvatar}`)}\n              style={{ width: '30%', height: '15vw', objectFit: 'cover' }}\n            />\n            <br />\n            <br />\n\n            {!like ? (\n              <h3 onClick={this.likeToggle}>\n                <i className='fas fa-thumbs-up text-info'>\n                  {''} {likes} Like\n                </i>\n              </h3>\n            ) : (\n              <h3 onClick={this.likeToggle}>\n                <i className='fas fa-thumbs-down text-danger'>\n                  {''} {likes} Unlike\n                </i>\n              </h3>\n            )}\n            <p className='card-text'>{post.content}</p>\n            <br />\n            <p className='font-italic mark'>\n              Posted By <Link to={`/user/${posterId}`}>{posterName}</Link> on {new Date(date.uploadDate).toDateString()} at {(new Date(date.uploadDate)).getHours()}:{(new Date(date.uploadDate)).getMinutes()}\n            </p>\n            <p> Vues: {views.viewsNumber}/{views.viewsLimit}\n            </p>\n            <Link to={`/`} className='btn btn-primary btn-raised btn-sm mr-5'>\n              Back to posts\n            </Link>\n            {isAuthenticate().user && isAuthenticate().user._id == posterId ? (\n              <div className='d-inline-block'>\n                <Link\n                  className='btn btn-raised btn-success mr-5'\n                  to={`/post/edit/${post._id}`}\n                >\n                  Update Post\n                </Link>\n                <DeletePost postId={postId} userId={isAuthenticate().user._id}/>\n              </div>\n            ) : (\n              ''\n            )}\n          </>\n        )}\n        <Comment\n          postId={postId}\n          comments={comments}\n          updateComments={this.updateComments}\n          comments={comments}\n        />\n      </div>\n    );\n  }\n}\n\nexport default SinglePost;\n","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/auth/index.js",[],"/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/post/Posts.js",["161","162"],"import React, { Component } from 'react'\nimport { getAllPost, getPhotoPost } from './apiPost'\nimport { isAuthenticate } from '../auth'\nimport DefaultAvatar from '../images/avatar.png'\nimport { Link } from 'react-router-dom'\n\nclass Posts extends Component {\n  constructor () {\n    super()\n    this.state = {\n      posts: []\n    }\n  }\n\n  componentDidMount () {\n    getAllPost().then(data => {\n      if (data.err) console.log(data.err)\n      else this.setState({ posts: data })\n    })\n  }\n\n  renderPost (posts) {\n    return (\n      <div className='row'>\n        {posts.map(post => {\n          const photoUrl = post\n            ?  'data:image/png;base64,' + `${process.env.REACT_APP_API_URL}/post/${post._id}`\n            : DefaultAvatar\n          const token = isAuthenticate().token\n          const test = JSON.stringify(getPhotoPost(post._id, token))\n          console.log('Photo du post ' + test)\n          console.log('post id ' + post._id)\n          const posterId = post.postedBy ? post.postedBy._id : ''\n          const posterName = post.postedBy ? post.postedBy.pseudo : 'Unknown'\n          const infos = post.content\n          const date = post.date.uploadDate\n          const expiryDate = post.date.expiryDate\n          const views = post.views\n          return (\n            <div className='card col-md-3 mr-5 mb-5' key={post._id}>\n              <div>\n                <Link to={`/user/${posterId}`}>{posterName} </Link>\n              </div>\n              <img\n                className='card-img-top'\n                src={photoUrl}\n                onError={i => (i.target.src = `${DefaultAvatar}`)}\n                style={{ width: '100%', height: '15vw', objectFit: 'cover' }}\n                alt='Card image cap'\n              />\n              <div className='card-body'>\n                <h5 className='card-title'>{infos.title}</h5>\n                <p className='card-text'>{infos.caption.substring(0, 50)}</p>\n                <br />\n                <p className='font-italic mark'>\n                  {new Date(date).toDateString()}\n                </p>\n                <p className='font-italic mark'>\n                  Expiration {new Date(expiryDate).toDateString()}\n                </p>\n                <p className='font-italic mark'>\n                  Vues: {views.viewsNumber}/{views.viewsLimit}\n                </p>\n                <Link\n                  to={`/post/${post._id}`}\n                  className='btn btn-primary btn-raised btn-sm'\n                >\n                  Read more\n                </Link>\n              </div>\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n\n  render () {\n    const { posts } = this.state\n    return (\n      <div className='container'>\n        {!posts.length || posts.length === 'undefined' ? (\n          <div className='jumbotron text-center'>\n            <h2>Welcome to Social Network</h2>\n          </div>\n        ) : (\n          <h2 className='mt-5 mb-5'>Recent Posts</h2>\n        )}\n\n        {this.renderPost(posts)}\n      </div>\n    )\n  }\n}\n\nexport default Posts\n","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/user/apiUser.js",[],"/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/user/FollowProfileButton.js",["163","164","165"],"import React, { Component } from 'react';\nimport { follow, unfollow } from './apiUser';\n\nclass FollowProfileButton extends Component {\n  onFollow = () => this.props.onFollowButtonClick(follow);\n  onUnFollow = () => this.props.onUnFollowButtonClick(unfollow);\n\n  render() {\n    return (\n      <div className='d-inline-block'>\n        {this.props.following ? (\n          <button\n            className='btn btn-raised btn-warning'\n            onClick={this.onUnFollow}\n          >\n            Unfollow\n          </button>\n        ) : (\n          <button\n            className='btn btn-raised btn-primary mr-5'\n            onClick={this.onFollow}\n          >\n            Follow\n          </button>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default FollowProfileButton;\n","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/user/ProfileTabs.js",[],"/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/user/DeleteProfile.js",[],"/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/post/apiPost.js",["166","167"],"export const createPost = (userId, token, post) => {\n  return fetch(`${process.env.REACT_APP_API_URL}/post/${userId}`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      //'Content-Type': 'application/json',\n    },\n    mode: 'cors',\n    body: post\n  })\n    .then(res => res.json())\n    // .catch(err => console.log(err));\n}\n\n\nexport const editPost = (postId, token, post) => {\n  return fetch(`${process.env.REACT_APP_API_URL}/post/photo/${postId}`, {\n    method: 'PUT',\n    body: JSON.stringify(postId),\n    headers: {\n      Accept: 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    mode: 'cors',\n    body: post\n  })\n    .then(res => res.json())\n    .catch(err => console.log(err))\n}\n\nexport const getAllPost = () => {\n  const test = { test: 'jojo', opt: 'jaja' }\n  return fetch(`${process.env.REACT_APP_API_URL}/post/all`, {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    mode: 'cors',\n  })\n    .then(res => res.json())\n    // .catch(err => console.log(err));\n}\n\nexport const getPost = (postId, token) => {\n  return fetch(`${process.env.REACT_APP_API_URL}/post/${postId}`, {\n    method: 'GET',\n    'Content-Type': 'application/json',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    }\n  })\n    .then(res => res.json())\n    .catch(err => console.log(err))\n}\n\nexport const getBase64Photo = (postId, token) => {\n  return fetch(`${process.env.REACT_APP_API_URL}/post/photo/${postId}`, {\n    method: 'GET',\n    'Content-Type': 'application/json',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    }\n  })\n    .then(res => res.json())\n    .catch(err => console.log(err))\n}\n\nexport const getPhotoPost = (postId, token) => {\n  return fetch(`${process.env.REACT_APP_API_URL}/post/photo/${postId}`, {\n    method: 'GET',\n    'Content-Type': 'application/json',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    }\n  })\n    .then(res => res.json())\n    .catch(err => console.log(err))\n}\n\n\nexport const getPostByUser = (userId, token) => {\n  return fetch(`${process.env.REACT_APP_API_URL}/post/by/${userId}`, {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      Authorization: `Bearer ${token}`\n    }\n  })\n    .then(res => res.json())\n    .catch(err => console.log(err))\n}\n\nexport const removePost = (postId, token, userId) => {\n  return fetch(`${process.env.REACT_APP_API_URL}/post/delete`, {\n    method: 'PUT',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify({postId})\n  })\n    .then(res => res.json())\n    .catch(err => console.log(err))\n}\n\nexport const likePost = (postId, token, userId, status, numberOfLikes, LikersId) => {\n  return fetch(`${process.env.REACT_APP_API_URL}/post/like/${postId}`, {\n    method: 'PUT',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify({ userId, postId, status, numberOfLikes, LikersId })\n  })\n    .then(res => res.json())\n    .catch(err => console.log(err))\n}\n\nexport const newComment = (postId, token, userId, pseudo, comment) => {\n  return fetch(`${process.env.REACT_APP_API_URL}/post/comment`, {\n    method: 'PUT',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify({ userId, postId, pseudo, comment })\n  })\n    .then(res => res.json())\n    .catch(err => console.log(err))\n}\n\nexport const deleteComment = (postId, token, userId, comment) => {\n  return fetch(`${process.env.REACT_APP_API_URL}/post/deletecomment`, {\n    method: 'PUT',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify({ userId, postId, comment })\n  })\n    .then(res => res.json())\n    .catch(err => console.log(err))\n}\n","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/post/Comment.js",["168"],"import React, { Component } from 'react';\nimport { isAuthenticate } from '../auth';\nimport { newComment } from './apiPost';\nimport DefaultAvatar from '../images/avatar.png';\nimport { Link } from 'react-router-dom';\nimport DeleteComment from './DeleteComment';\n\nclass Comment extends Component {\n  state = {\n    text: '',\n    error: ''\n  };\n\n  handleChange = e => this.setState({ text: e.target.value });\n\n  isValid = () => {\n    const { text } = this.state;\n    if (text.length === 0 || text.length > 150) {\n      this.setState({\n        error: 'Comment should not be empty and less than 150 characters long'\n      });\n      return false;\n    }\n    return true;\n  };\n\n  addComment = e => {\n    e.preventDefault();\n    if (this.isValid()) {\n      const userId = isAuthenticate().user._id;\n      const pseudo = isAuthenticate().user.pseudo;\n      const token = isAuthenticate().token;\n      const postId = this.props.postId;\n      const comment = { text: this.state.text };\n\n      newComment(postId, token, userId, pseudo, comment).then(data => {\n        if (data.err) console.log(data.err);\n        this.setState({ text: '' });\n        this.props.updateComments(data.comments);\n        console.log(data.comments);\n      });\n    }\n  };\n\n  render() {\n    const { text, error } = this.state;\n    const { comments } = this.props;\n    return (\n      <div>\n        <h2 className='mt-5 mb-5'>Leave a comment</h2>\n        <div\n          className='alert alert-danger'\n          style={{ display: error ? '' : 'none' }}\n        >\n          {error}\n        </div>\n\n        <form onSubmit={this.addComment}>\n          <div className='form-group'>\n            <input\n              onChange={this.handleChange}\n              placeholder='My comment...'\n              value={text}\n              type='text'\n              className='form-control'\n            />\n          </div>\n        </form>\n\n        <div>\n          <h3 className='text-primary'>{comments.length} Comments</h3>\n          <hr />\n          {comments &&\n            comments.map(comment => (\n              <div key={comment._id}>\n                <div className='row'>\n                  <div>\n                    <Link to={`/user/${comment.author}`}>\n                      <img\n                        style={{\n                          borderRadius: '50%',\n                          border: '2px solid black'\n                        }}\n                        className='mr-3'\n                        src={`${process.env.REACT_APP_API_URL}/user/photo/${comment.author}`}\n                        onError={i => (i.target.src = `${DefaultAvatar}`)}\n                        alt={comment.author}\n                        height='40px'\n                        weight='40px'\n                      />\n\n                      <h3 className='lead' style={{ display: 'inline' }}>\n                      <Link to={`/user/${comment.author}`}>\n                        {comment.pseudo}\n                      </Link>:\n                      </h3>\n                    </Link>\n                    <h3> {comment.comment} </h3>\n                    <br />\n                    <span\n                      className='font-italic mark'\n                      style={{ paddingRight: '120%' }}\n                    >\n\n                      {(new Date(comment.date)).getHours()}:{(new Date(comment.date)).getMinutes()} on {new Date(comment.date).toDateString()}\n                      {isAuthenticate().user &&\n                      isAuthenticate().user._id == comment.author ? (\n                        <DeleteComment\n                          userId={comment.author}\n                          postId={this.props.postId}\n                          commentId={comment._id}\n                          updateComments={this.props.updateComments}\n                        />\n                      ) : (\n                        ''\n                      )}\n                    </span>\n                  </div>\n                </div>\n                <hr />\n              </div>\n            ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Comment;\n","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/post/DeletePost.js",["169"],"import React, { Component } from 'react';\nimport { isAuthenticate, signout } from '../auth';\nimport { removePost } from './apiPost';\nimport { Redirect } from 'react-router-dom';\n\nclass DeletePost extends Component {\n  state = {\n    redirect: false,\n    postId:{}\n  };\n\n  deletePost = () => {\n    const token = isAuthenticate().token;\n    const postId = this.props.postId;\n    const userId = this.props.userId;\n    this.setState({ redirect: true });\n    removePost(postId, token, userId)\n  };\n\n  deleteComfirmed = () => {\n    let answer = window.confirm('Are you sure you want to delete your post?');\n    if (answer) this.deletePost();\n    \n  };\n\n  render() {\n    const { redirect } = this.state;\n    if (redirect) return  <Redirect to={`/`}></Redirect>;\n    return (\n      <div onClick={this.deleteComfirmed} className='btn btn-raised btn-danger'>\n        Delete Post\n      </div>\n    );\n  }\n}\n\nexport default DeletePost;\n","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/post/DeleteComment.js",["170","171"],"import React, { Component } from 'react';\nimport { isAuthenticate, signout } from '../auth';\nimport { deleteComment } from './apiPost';\nimport { Redirect } from 'react-router-dom';\n\nclass DeleteComment extends Component {\n  removeComment = () => {\n    const token = isAuthenticate().token;\n    const postId = this.props.postId;\n    const userId = this.props.userId;\n    const comment = { _id: this.props.commentId };\n    deleteComment(postId, token, userId, comment).then(data => {\n      if (data.err) console.log(data.err);\n      else {\n        this.props.updateComments(data.comments);\n      }\n    });\n  };\n\n  deleteComfirmed = () => {\n    let answer = window.confirm(\n      'Are you sure you want to delete your comment?'\n    );\n    if (answer) this.removeComment();\n  };\n\n  render() {\n    return (\n      <div\n        onClick={this.deleteComfirmed}\n        className='btn-danger btn'\n        style={{ float: 'right', marginTop: '-3%' }}\n      >\n        Remove\n      </div>\n    );\n  }\n}\n\nexport default DeleteComment;\n",["172","173"],"/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/friend/Friends.js",["174","175","176","177","178","179"],"import React, { Component } from 'react';\nimport { isAuthenticate } from '../auth';\nimport { Redirect } from 'react-router-dom';\nimport DefaultAvatar from '../images/post.jpg';\nimport { getAllRequests } from './apiFriend'\nimport { addFriend } from './apiFriend'\nimport { getAllFriends } from './apiFriend'\nimport { Link } from 'react-router-dom';\n\nimport Test from '../images/padol_logo.png';\n\nclass Friends extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: {},\n      redirectToProfile: false,\n      token: isAuthenticate().token,\n      //friends: [{ userId:\"Nico\"}, { userId:\"Vic\"}, {userId:\"Loulou\"}, {userId:\"Dimi\"}],\n      requests: [{userId: \"Toto\", status:false, date: new Date(Date.now())},\n                {userId: \"Boubou\", status:true, date: new Date(Date.now())},\n                {userId: \"Rami\", status:false, date: new Date(Date.now())}\n                      ],\n      test: [],\n      friends: [],\n      error: ''\n    };\n  }\n\n\n  componentDidMount() {\n    this.setState({ user: isAuthenticate().user });\n    getAllRequests(isAuthenticate().user._id).then(requests => {\n      this.setState({test: requests}, console.log(\"requests vaut \" + JSON.stringify(requests)));\n      })\n    getAllFriends(isAuthenticate().user._id).then(friends => {\n      this.setState({friends: friends}, console.log(\"friends vaut \" + JSON.stringify(friends)));\n      })\n  }\n\n  renderFriends(friends){\n    return(\n      <div className='row'>\n        {friends.map(friend => {\n          return (\n            <div className='card col-md-3 mr-5 mb-5' key={friend.userId}>\n              <img\n                style={{ height: 'auto', width: '30vw' }}\n                className='img-thumbnail'\n                src={`${process.env.REACT_APP_API_URL}/user/photo/${friend.userId}`}\n                onError={i => (i.target.src = `${DefaultAvatar}`)}\n                alt={friend.userId}\n              />\n              <div className='card-body'>\n                <h5 className='card-title'>{friend.userId}</h5>\n                <Link\n                  to={`/user/${friend.userId}`}\n                  className='btn btn-raised btn-primary btn-sm'\n                >\n                  View Profile\n                </Link>\n              </div>\n            </div>\n          )\n        }\n\n        )}\n      </div>\n    )\n\n  }\n\n  renderRequests(requests){\n    console.log(JSON.stringify(requests))\n    return(\n      <div className='row'>\n        {requests.map(request => {\n          return (\n            request.status === false ? (\n              <div className='card col-md-3 mr-5 mb-5' key={request.userId}>\n              <img\n                style={{ height: 'auto', width: '30vw' }}\n                className='img-thumbnail'\n                src={`${process.env.REACT_APP_API_URL}/user/photo/${request.userId}`}\n                onError={i => (i.target.src = `${DefaultAvatar}`)}\n                alt={request.userId}\n              />\n                <div className='card-body'>\n                  <h5 className='card-title'>{request.userId}</h5>\n                  <Link\n                    to={`/user/${request.userId}`}\n                    className='btn btn-raised btn-primary btn-sm'\n                  >\n                    View Profile\n                  </Link>\n                </div>\n\n              </div>\n            ) : (null)\n          )\n        }\n        )}\n      </div>\n    )\n\n  }\n\n  render() {\n    const {\n      redirectToProfile,\n      user,\n      friends,\n      requests,\n      test,\n      error\n    } = this.state;\n    return (\n      <div className='container'>\n        {!friends.length || friends.length === 'undefined' ? (\n          <div className='jumbotron text-center'>\n            <h2>No friends</h2>\n          </div>\n        ) : (\n          <h2 className='mt-5 mb-5'>Friends</h2>\n        )}\n\n        {this.renderFriends(friends)}\n        {!requests.length || requests.length === 'undefined' ? (\n          <div className='jumbotron text-center'>\n            <h2>No requests</h2>\n          </div>\n        ) : (\n          <h2 className='mt-5 mb-5'>Requests</h2>\n        )}\n\n        {this.renderRequests(test)}\n      </div>\n    )\n  }\n}\n\nexport default Friends;\n","/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/client/src/friend/apiFriend.js",[],{"ruleId":"180","replacedBy":"181"},{"ruleId":"182","replacedBy":"183"},{"ruleId":"184","severity":1,"message":"185","line":92,"column":13,"nodeType":"186","endLine":99,"endColumn":14},{"ruleId":"187","severity":1,"message":"188","line":45,"column":19,"nodeType":"189","messageId":"190","endLine":45,"endColumn":23},{"ruleId":"187","severity":1,"message":"191","line":45,"column":25,"nodeType":"189","messageId":"190","endLine":45,"endColumn":30},{"ruleId":"187","severity":1,"message":"192","line":45,"column":32,"nodeType":"189","messageId":"190","endLine":45,"endColumn":40},{"ruleId":"193","severity":1,"message":"194","line":63,"column":27,"nodeType":"195","messageId":"196","endLine":63,"endColumn":28,"suggestions":"197"},{"ruleId":"193","severity":1,"message":"194","line":63,"column":52,"nodeType":"195","messageId":"196","endLine":63,"endColumn":53,"suggestions":"198"},{"ruleId":"187","severity":1,"message":"199","line":2,"column":10,"nodeType":"189","messageId":"190","endLine":2,"endColumn":20},{"ruleId":"187","severity":1,"message":"200","line":3,"column":8,"nodeType":"189","messageId":"190","endLine":3,"endColumn":22},{"ruleId":"187","severity":1,"message":"201","line":25,"column":11,"nodeType":"189","messageId":"190","endLine":25,"endColumn":17},{"ruleId":"187","severity":1,"message":"202","line":26,"column":11,"nodeType":"189","messageId":"190","endLine":26,"endColumn":16},{"ruleId":"203","severity":1,"message":"204","line":32,"column":7,"nodeType":"205","messageId":"206","endLine":32,"endColumn":8},{"ruleId":"187","severity":1,"message":"207","line":73,"column":12,"nodeType":"189","messageId":"190","endLine":73,"endColumn":16},{"ruleId":"187","severity":1,"message":"208","line":73,"column":18,"nodeType":"189","messageId":"190","endLine":73,"endColumn":31},{"ruleId":"209","severity":1,"message":"210","line":75,"column":39,"nodeType":"189","messageId":"211","endLine":75,"endColumn":44},{"ruleId":"187","severity":1,"message":"212","line":1,"column":17,"nodeType":"189","messageId":"190","endLine":1,"endColumn":26},{"ruleId":"187","severity":1,"message":"213","line":1,"column":28,"nodeType":"189","messageId":"190","endLine":1,"endColumn":36},{"ruleId":"187","severity":1,"message":"214","line":66,"column":46,"nodeType":"189","messageId":"190","endLine":66,"endColumn":56},{"ruleId":"187","severity":1,"message":"215","line":66,"column":58,"nodeType":"189","messageId":"190","endLine":66,"endColumn":68},{"ruleId":"187","severity":1,"message":"216","line":4,"column":8,"nodeType":"189","messageId":"190","endLine":4,"endColumn":21},{"ruleId":"187","severity":1,"message":"217","line":5,"column":10,"nodeType":"189","messageId":"190","endLine":5,"endColumn":20},{"ruleId":"218","severity":1,"message":"219","line":37,"column":11,"nodeType":"186","endLine":42,"endColumn":13},{"ruleId":"187","severity":1,"message":"220","line":108,"column":54,"nodeType":"189","messageId":"190","endLine":108,"endColumn":58},{"ruleId":"187","severity":1,"message":"221","line":1,"column":28,"nodeType":"189","messageId":"190","endLine":1,"endColumn":47},{"ruleId":"222","severity":1,"message":"223","line":82,"column":25,"nodeType":"224","messageId":"225","endLine":82,"endColumn":27},{"ruleId":"187","severity":1,"message":"226","line":112,"column":7,"nodeType":"189","messageId":"190","endLine":112,"endColumn":14},{"ruleId":"227","severity":1,"message":"228","line":137,"column":13,"nodeType":"186","endLine":142,"endColumn":15},{"ruleId":"222","severity":1,"message":"223","line":169,"column":65,"nodeType":"224","messageId":"225","endLine":169,"endColumn":67},{"ruleId":"229","severity":1,"message":"230","line":188,"column":11,"nodeType":"231","endLine":188,"endColumn":30},{"ruleId":"232","severity":1,"message":"233","line":27,"column":41,"nodeType":"224","messageId":"234","endLine":27,"endColumn":42},{"ruleId":"218","severity":1,"message":"219","line":44,"column":15,"nodeType":"186","endLine":50,"endColumn":17},{"ruleId":"222","severity":1,"message":"223","line":29,"column":51,"nodeType":"224","messageId":"225","endLine":29,"endColumn":53},{"ruleId":"222","severity":1,"message":"223","line":30,"column":27,"nodeType":"224","messageId":"225","endLine":30,"endColumn":29},{"ruleId":"222","severity":1,"message":"223","line":37,"column":46,"nodeType":"224","messageId":"225","endLine":37,"endColumn":48},{"ruleId":"235","severity":1,"message":"236","line":25,"column":5,"nodeType":"237","messageId":"225","endLine":25,"endColumn":9},{"ruleId":"187","severity":1,"message":"238","line":32,"column":9,"nodeType":"189","messageId":"190","endLine":32,"endColumn":13},{"ruleId":"222","severity":1,"message":"223","line":107,"column":49,"nodeType":"224","messageId":"225","endLine":107,"endColumn":51},{"ruleId":"187","severity":1,"message":"239","line":2,"column":26,"nodeType":"189","messageId":"190","endLine":2,"endColumn":33},{"ruleId":"187","severity":1,"message":"239","line":2,"column":26,"nodeType":"189","messageId":"190","endLine":2,"endColumn":33},{"ruleId":"187","severity":1,"message":"240","line":4,"column":10,"nodeType":"189","messageId":"190","endLine":4,"endColumn":18},{"ruleId":"180","replacedBy":"241"},{"ruleId":"182","replacedBy":"242"},{"ruleId":"187","severity":1,"message":"240","line":3,"column":10,"nodeType":"189","messageId":"190","endLine":3,"endColumn":18},{"ruleId":"187","severity":1,"message":"243","line":6,"column":10,"nodeType":"189","messageId":"190","endLine":6,"endColumn":19},{"ruleId":"187","severity":1,"message":"244","line":10,"column":8,"nodeType":"189","messageId":"190","endLine":10,"endColumn":12},{"ruleId":"187","severity":1,"message":"245","line":110,"column":7,"nodeType":"189","messageId":"190","endLine":110,"endColumn":24},{"ruleId":"187","severity":1,"message":"220","line":111,"column":7,"nodeType":"189","messageId":"190","endLine":111,"endColumn":11},{"ruleId":"187","severity":1,"message":"246","line":115,"column":7,"nodeType":"189","messageId":"190","endLine":115,"endColumn":12},"no-native-reassign",["247"],"no-negated-in-lhs",["248"],"jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","no-unused-vars","'name' is assigned a value but never used.","Identifier","unusedVar","'email' is assigned a value but never used.","'password' is assigned a value but never used.","no-useless-escape","Unnecessary escape character: \\[.","Literal","unnecessaryEscape",["249","250"],["251","252"],"'findPeople' is defined but never used.","'DefaultProfile' is defined but never used.","'userId' is assigned a value but never used.","'token' is assigned a value but never used.","no-sequences","Unexpected use of comma operator.","SequenceExpression","unexpectedCommaExpression","'open' is assigned a value but never used.","'followMessage' is assigned a value but never used.","no-redeclare","'users' is already defined.","redeclared","'Component' is defined but never used.","'useState' is defined but never used.","'viewsLimit' is assigned a value but never used.","'expiryDate' is assigned a value but never used.","'DefaultAvatar' is defined but never used.","'createPost' is defined but never used.","jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You don’t need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","'user' is assigned a value but never used.","'useImperativeHandle' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'loading' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","no-useless-concat","Unexpected string concatenation of literals.","unexpectedConcat","no-dupe-keys","Duplicate key 'body'.","ObjectExpression","'test' is assigned a value but never used.","'signout' is defined but never used.","'Redirect' is defined but never used.",["247"],["248"],"'addFriend' is defined but never used.","'Test' is defined but never used.","'redirectToProfile' is assigned a value but never used.","'error' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"messageId":"253","fix":"254","desc":"255"},{"messageId":"256","fix":"257","desc":"258"},{"messageId":"253","fix":"259","desc":"255"},{"messageId":"256","fix":"260","desc":"258"},"removeEscape",{"range":"261","text":"262"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"263","text":"264"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"265","text":"262"},{"range":"266","text":"264"},[1800,1801],"",[1800,1800],"\\",[1825,1826],[1825,1825]]