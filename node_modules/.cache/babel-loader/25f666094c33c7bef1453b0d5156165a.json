{"ast":null,"code":"var _jsxFileName = \"/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/frontend/src/components/auth/register.js\";\nimport React from \"react\";\nimport { Button, Form, Grid, Message, Segment, Header } from \"semantic-ui-react\";\nimport { ApiClient } from \"../../utils/ApiClient\";\nimport { Redirect } from \"react-router-dom\";\n\nclass Register extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: null,\n      password: null,\n      confirm_password: null,\n      registrationSuccessfull: false,\n      error: null\n    };\n\n    this.handleChange = event => {\n      const {\n        email,\n        password\n      } = event.target;\n\n      switch (event.target.name) {\n        case \"email\":\n          this.setState({\n            email: event.target.value\n          });\n          break;\n\n        case \"password\":\n          this.setState({\n            password: event.target.value\n          });\n          break;\n\n        case \"confirm_password\":\n          this.setState({\n            confirm_password: event.target.value\n          });\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    this.validate = async () => {\n      const {\n        password,\n        confirm_password\n      } = this.state;\n\n      if (password === confirm_password) {\n        return Promise.resolve();\n      }\n\n      return Promise.reject(\"Passwords don't matach\");\n    };\n\n    this.handleSubmit = event => {\n      console.log(\"this.state: \", this.state);\n      const {\n        email,\n        password,\n        error\n      } = this.state;\n      const self = this;\n      this.validate().then(() => {\n        ApiClient.register(email, password).then(res => {\n          self.setState({\n            registrationSuccessfull: res.data.success,\n            error: res.data.message\n          });\n        }).catch(e => this.setState(() => ({\n          error: e.data.message,\n          registrationSuccessful: false\n        })));\n      }).catch(e => {\n        console.log(e); // this.setState({ error: e })\n      });\n    };\n  }\n\n  render() {\n    const {\n      registrationSuccessfull\n    } = this.state;\n\n    if (registrationSuccessfull) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 14\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"login-form\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        textAlign: \"center\",\n        style: {\n          height: \"100%\"\n        },\n        verticalAlign: \"middle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Grid.Column, {\n        style: {\n          maxWidth: 450\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Header, {\n        as: \"h3\",\n        textAlign: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 15\n        }\n      }, \"Register\"), this.state.error && /*#__PURE__*/React.createElement(Message, {\n        color: \"red\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }\n      }, this.state.error), /*#__PURE__*/React.createElement(Form, {\n        size: \"large\",\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Segment, {\n        stacked: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Form.Input, {\n        name: \"email\",\n        fluid: true,\n        icon: \"user\",\n        iconPosition: \"left\",\n        placeholder: \"E-mail address\",\n        required: true,\n        type: \"email\",\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(Form.Input, {\n        name: \"password\",\n        fluid: true,\n        icon: \"lock\",\n        iconPosition: \"left\",\n        placeholder: \"Password\",\n        type: \"password\",\n        required: true,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(Form.Input, {\n        name: \"confirm_password\",\n        fluid: true,\n        icon: \"lock\",\n        iconPosition: \"left\",\n        placeholder: \"Confirm the password\",\n        type: \"password\",\n        required: true,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        color: \"teal\",\n        fluid: true,\n        size: \"large\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 19\n        }\n      }, \"Register\"))))));\n    }\n  }\n\n}\n\nexport default Register;","map":{"version":3,"sources":["/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/frontend/src/components/auth/register.js"],"names":["React","Button","Form","Grid","Message","Segment","Header","ApiClient","Redirect","Register","Component","state","email","password","confirm_password","registrationSuccessfull","error","handleChange","event","target","name","setState","value","validate","Promise","resolve","reject","handleSubmit","console","log","self","then","register","res","data","success","message","catch","e","registrationSuccessful","render","height","maxWidth"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  Button,\n  Form,\n  Grid,\n  Message,\n  Segment,\n  Header\n} from \"semantic-ui-react\";\nimport { ApiClient } from \"../../utils/ApiClient\";\nimport { Redirect } from \"react-router-dom\";\n\nclass Register extends React.Component {\n  state = {\n    email: null,\n    password: null,\n    confirm_password: null,\n    registrationSuccessfull: false,\n    error: null\n  };\n\n  handleChange = event => {\n    const { email, password } = event.target;\n    switch (event.target.name) {\n      case \"email\":\n        this.setState({ email: event.target.value });\n        break;\n      case \"password\":\n        this.setState({ password: event.target.value });\n        break;\n      case \"confirm_password\":\n        this.setState({ confirm_password: event.target.value });\n        break;\n      default:\n        break;\n    }\n  };\n\n  validate = async () => {\n    const { password, confirm_password } = this.state;\n\n    if (password === confirm_password) {\n      return Promise.resolve();\n    }\n    return Promise.reject(\"Passwords don't matach\");\n  };\n\n  handleSubmit = event => {\n    console.log(\"this.state: \", this.state);\n    const { email, password, error } = this.state;\n    const self = this;\n    this.validate()\n      .then(() => {\n        ApiClient.register(email, password)\n          .then(res => {\n            self.setState({\n              registrationSuccessfull: res.data.success,\n              error: res.data.message\n            });\n          })\n          .catch(e =>\n            this.setState(() => ({\n              error: e.data.message,\n              registrationSuccessful: false\n            }))\n          );\n      })\n      .catch(e => {\n        console.log(e);\n        // this.setState({ error: e })\n      });\n  };\n\n  render() {\n    const { registrationSuccessfull } = this.state;\n\n    if (registrationSuccessfull) {\n      return <Redirect to=\"/login\" />;\n    } else {\n      return (\n        <div className=\"login-form\">\n          {/*\n\t\t\t\t\t\tHeads up! The styles below are necessary for the correct render of this example.\n\t\t\t\t\t\tYou can do same with CSS, the main idea is that all the elements up to the `Grid`\n\t\t\t\t\t\tbelow must have a height of 100%.\n\t\t\t\t\t*/}\n          {/* <style>{`\n\t\t\t\t\t\tbody > div,\n\t\t\t\t\t\tbody > div > div,\n\t\t\t\t\t\tbody > div > div > div.login-form {\n\t\t\t\t\t\t\theight: 70%;\n\t\t\t\t\t\t}\n\t\t\t\t\t`}</style> */}\n          <Grid\n            textAlign=\"center\"\n            style={{ height: \"100%\" }}\n            verticalAlign=\"middle\"\n          >\n            <Grid.Column style={{ maxWidth: 450 }}>\n              <Header as=\"h3\" textAlign=\"center\">\n                Register\n              </Header>\n              {this.state.error && (\n                <Message color=\"red\">{this.state.error}</Message>\n              )}\n              <Form size=\"large\" onSubmit={this.handleSubmit}>\n                <Segment stacked>\n                  <Form.Input\n                    name=\"email\"\n                    fluid\n                    icon=\"user\"\n                    iconPosition=\"left\"\n                    placeholder=\"E-mail address\"\n                    required\n                    type=\"email\"\n                    onChange={this.handleChange}\n                  />\n                  <Form.Input\n                    name=\"password\"\n                    fluid\n                    icon=\"lock\"\n                    iconPosition=\"left\"\n                    placeholder=\"Password\"\n                    type=\"password\"\n                    required\n                    onChange={this.handleChange}\n                  />\n\n                  <Form.Input\n                    name=\"confirm_password\"\n                    fluid\n                    icon=\"lock\"\n                    iconPosition=\"left\"\n                    placeholder=\"Confirm the password\"\n                    type=\"password\"\n                    required\n                    onChange={this.handleChange}\n                  />\n\n                  <Button color=\"teal\" fluid size=\"large\">\n                    Register\n                  </Button>\n                </Segment>\n              </Form>\n            </Grid.Column>\n          </Grid>\n        </div>\n      );\n    }\n  }\n}\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}