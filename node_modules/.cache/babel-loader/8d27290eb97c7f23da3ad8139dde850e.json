{"ast":null,"code":"var _jsxFileName = \"/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/frontend/src/components/UserProfile.js\";\nimport React from 'react';\nimport { Header, Icon, Segment, Container, Table, Label, Menu } from 'semantic-ui-react';\nimport { connect } from 'react-redux';\nimport { authenticateUser } from '../actions/user';\nimport { ApiClient } from '../utils/ApiClient';\n\nclass UsersList extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      users: null\n    };\n  }\n\n  componentDidMount() {\n    ApiClient.getAllUsers().then(res => this.setState({\n      users: res.data.users\n    })).catch(e => console.log(e));\n  }\n\n  render() {\n    const {\n      users\n    } = this.state;\n\n    if (users) {\n      return /*#__PURE__*/React.createElement(Table, {\n        celled: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Table.Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Table.Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Table.HeaderCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 13\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 13\n        }\n      }, \"Role\"))), /*#__PURE__*/React.createElement(Table.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 9\n        }\n      }, users.map((user, i) => /*#__PURE__*/React.createElement(Table.Row, {\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Table.Cell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        ribbon: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 27\n        }\n      }, user.email)), /*#__PURE__*/React.createElement(Table.Cell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 15\n        }\n      }, user.role)))));\n    } else {\n      return null;\n    }\n  }\n\n}\n\nclass UserProfile extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: null\n    };\n  }\n\n  componentDidMount() {\n    this.props.dispatch(authenticateUser());\n    this.setState({\n      user: this.props.user && this.props.user.user\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      user: nextProps.user.user\n    });\n  }\n\n  render() {\n    const {\n      user\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Segment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      as: \"h2\",\n      icon: true,\n      textAlign: \"center\",\n      style: {\n        marginBottom: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"users\",\n      circular: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Header.Content, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Container, {\n      style: {\n        marginBottom: '20px'\n      },\n      textAlign: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }\n    }, \"User email: \", /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 86\n      }\n    }, user && user.email && user.email)), /*#__PURE__*/React.createElement(Container, {\n      style: {\n        marginBottom: '20px'\n      },\n      textAlign: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }\n    }, \"User role: \", /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 85\n      }\n    }, user && user.role && user.role)), user && user.role === 'Admin' && /*#__PURE__*/React.createElement(UsersList, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 45\n      }\n    })));\n  }\n\n}\n\nconst mapStateToProps = ({\n  user\n}) => {\n  return {\n    user\n  };\n};\n\nexport default connect(mapStateToProps)(UserProfile);","map":{"version":3,"sources":["/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/frontend/src/components/UserProfile.js"],"names":["React","Header","Icon","Segment","Container","Table","Label","Menu","connect","authenticateUser","ApiClient","UsersList","Component","state","users","componentDidMount","getAllUsers","then","res","setState","data","catch","e","console","log","render","map","user","i","email","role","UserProfile","props","dispatch","componentWillReceiveProps","nextProps","marginBottom","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Header, Icon, Segment, Container, Table, Label, Menu} from 'semantic-ui-react';\nimport {connect} from 'react-redux';\nimport {authenticateUser} from '../actions/user';\nimport {ApiClient} from '../utils/ApiClient';\n\nclass UsersList extends React.Component {\n\n  state = {users: null}\n\n  componentDidMount() {\n    ApiClient.getAllUsers()\n      .then(res => this.setState({ users: res.data.users }))\n      .catch(e => console.log(e))\n  }\n\n  render () {\n    const {users} = this.state;\n    if (users) {\n      return (\n        <Table celled>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>Email</Table.HeaderCell>\n            <Table.HeaderCell>Role</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n\n        <Table.Body>\n          {users.map((user, i) => (\n            <Table.Row key={i}>\n              <Table.Cell><Label ribbon>{user.email}</Label></Table.Cell>\n              <Table.Cell>{user.role}</Table.Cell>\n            </Table.Row>\n          ))}\n        </Table.Body>\n      </Table>\n      )\n    } else {\n      return null;\n    }\n  }\n}\n\nclass UserProfile extends React.Component {\n\n  state = {user: null}\n\n  componentDidMount() {\n    this.props.dispatch(authenticateUser());\n    this.setState({ user: this.props.user && this.props.user.user })\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ user: nextProps.user.user })\n  }\n\n  render() {\n    const {user} = this.state;\n    return (\n      <Container>\n        <Segment>\n          <Header as='h2' icon textAlign='center' style={{ marginBottom: '20px' }} >\n            <Icon name='users' circular />\n            <Header.Content>{}</Header.Content>\n          </Header>\n          <Container style={{ marginBottom: '20px' }} textAlign='center'>User email: <strong>{user && user.email && user.email}</strong></Container>\n          <Container style={{ marginBottom: '20px' }} textAlign='center'>User role: <strong>{user && user.role && user.role}</strong></Container>\n          {user && user.role === 'Admin' && <UsersList />}\n        </Segment>\n      </Container>\n\n    )\n  }\n}\n\nconst mapStateToProps = ({user}) => {\n  return {user};\n}\n\nexport default connect(mapStateToProps)(UserProfile);\n"]},"metadata":{},"sourceType":"module"}