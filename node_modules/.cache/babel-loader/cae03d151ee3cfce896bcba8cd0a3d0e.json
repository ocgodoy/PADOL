{"ast":null,"code":"var _jsxFileName = \"/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/frontend/src/components/Navbar.js\";\nimport React, { Component } from \"react\";\nimport { Menu, Segment } from \"semantic-ui-react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport Auth from \"../utils/Auth\";\nimport { authenticateUser } from \"../actions/user\";\nimport { ApiClient } from \"../utils/ApiClient\";\nimport { connect } from \"react-redux\";\n\nconst renderUserMenu = (user, pathname, logOut) => {\n  if (user && user.authenticated) {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 7\n      }\n    }, user.user.role === \"Admin\" && /*#__PURE__*/React.createElement(Menu.Item, {\n      as: Link,\n      to: \"/admin/product/add\",\n      name: \"Add a new product\",\n      active: pathname === \"/admin/product/add\",\n      position: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Menu.Item, {\n      as: Link,\n      to: \"/account\",\n      name: user.user.role === \"Admin\" ? \"admin\" : user.user.email,\n      active: pathname === \"/admin\" || pathname === \"/user/cart\",\n      position: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Menu.Item, {\n      name: \"logout\",\n      onClick: logOut,\n      position: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    as: Link,\n    to: \"/login\",\n    name: \"login\",\n    active: pathname === \"/login\",\n    position: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Menu.Item, {\n    as: Link,\n    to: \"/register\",\n    name: \"register\",\n    active: pathname === \"/register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }));\n};\n\nclass Navbar extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: null,\n      authenticated: false\n    };\n\n    this.logOut = () => {\n      Auth.deauthenticateUser();\n      window.location = window.location.origin + \"/login\";\n    };\n  }\n\n  componentDidMount() {\n    this.props.dispatch(authenticateUser());\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.user && nextProps.user.authenticated) {\n      this.setState({\n        user: nextProps.user,\n        authenticated: nextProps.user.authenticated\n      });\n    }\n  }\n\n  render() {\n    const {\n      user\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Segment, {\n      inverted: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Menu, {\n      inverted: true,\n      pointing: true,\n      secondary: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Menu.Item, {\n      as: Link,\n      to: \"/\",\n      name: \"home\",\n      active: this.pathname === \"/\",\n      onClick: this.handleItemClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(Menu.Item, {\n      name: \"products\",\n      as: Link,\n      to: \"/products\",\n      active: this.pathname === \"/products\",\n      onClick: this.handleItemClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(Menu.Item, {\n      name: \"About\",\n      as: Link,\n      to: \"/about\",\n      active: this.pathname === \"/about\",\n      onClick: this.handleItemClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 6\n      }\n    }), renderUserMenu(user, this.pathname, this.logOut)));\n  }\n\n}\n\nexport default connect(({\n  user\n}) => ({\n  user\n}))(Navbar);","map":{"version":3,"sources":["/Users/oceanegodoy/Documents/ENSEIRB-MATMECA/3A/PADOL/frontend/src/components/Navbar.js"],"names":["React","Component","Menu","Segment","Link","Redirect","Auth","authenticateUser","ApiClient","connect","renderUserMenu","user","pathname","logOut","authenticated","role","email","Navbar","state","deauthenticateUser","window","location","origin","componentDidMount","props","dispatch","componentWillReceiveProps","nextProps","setState","render","handleItemClick"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Menu, Segment } from \"semantic-ui-react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport Auth from \"../utils/Auth\";\nimport { authenticateUser } from \"../actions/user\";\nimport { ApiClient } from \"../utils/ApiClient\";\nimport { connect } from \"react-redux\";\n\nconst renderUserMenu = (user, pathname, logOut) => {\n  if (user && user.authenticated) {\n    return (\n      <React.Fragment>\n        {user.user.role === \"Admin\" && (\n          <Menu.Item\n            as={Link}\n            to=\"/admin/product/add\"\n            name=\"Add a new product\"\n            active={pathname === \"/admin/product/add\"}\n            position=\"right\"\n          />\n        )}\n\n        <Menu.Item\n          as={Link}\n          to=\"/account\"\n          name={user.user.role === \"Admin\" ? \"admin\" : user.user.email}\n          active={pathname === \"/admin\" || pathname === \"/user/cart\"}\n          position=\"right\"\n        />\n\n        <Menu.Item name=\"logout\" onClick={logOut} position=\"right\" />\n      </React.Fragment>\n    );\n  }\n\n  return (\n    <React.Fragment>\n      <Menu.Item\n        as={Link}\n        to=\"/login\"\n        name=\"login\"\n        active={pathname === \"/login\"}\n        position=\"right\"\n      />\n      <Menu.Item\n        as={Link}\n        to=\"/register\"\n        name=\"register\"\n        active={pathname === \"/register\"}\n      />\n    </React.Fragment>\n  );\n};\n\nclass Navbar extends Component {\n  state = { user: null, authenticated: false };\n\n  componentDidMount() {\n    this.props.dispatch(authenticateUser());\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.user && nextProps.user.authenticated) {\n      this.setState({\n        user: nextProps.user,\n        authenticated: nextProps.user.authenticated\n      });\n    }\n  }\n\n  logOut = () => {\n    Auth.deauthenticateUser();\n    window.location = window.location.origin + \"/login\";\n  };\n\n\trender() {\n\t\tconst {user} = this.state;\n\t\treturn (\n\t\t\t<Segment inverted>\n\t\t\t\t<Menu inverted pointing secondary>\n\t\t\t\t\t<Menu.Item\n\t\t\t\t\t\tas={Link}\n\t\t\t\t\t\tto=\"/\"\n\t\t\t\t\t\tname=\"home\"\n\t\t\t\t\t\tactive={this.pathname === \"/\"}\n\t\t\t\t\t\tonClick={this.handleItemClick}\n\t\t\t\t\t/>\n\t\t\t\t\t<Menu.Item\n\t\t\t\t\t\tname=\"products\"\n\t\t\t\t\t\tas={Link}\n\t\t\t\t\t\tto=\"/products\"\n\t\t\t\t\t\tactive={this.pathname === \"/products\"}\n\t\t\t\t\t\tonClick={this.handleItemClick}\n\t\t\t\t\t/>\n\t\t\t\t\t<Menu.Item\n\t\t\t\t\t\tname=\"About\"\n\t\t\t\t\t\tas={Link}\n\t\t\t\t\t\tto=\"/about\"\n\t\t\t\t\t\tactive={this.pathname === \"/about\"}\n\t\t\t\t\t\tonClick={this.handleItemClick}\n\t\t\t\t\t/>\n\t\t\t\t{renderUserMenu(user, this.pathname, this.logOut)}\n\n\t\t\t\t</Menu>\n\t\t\t</Segment>\n\t\t);\n\t}\n}\n\nexport default connect(({ user }) => ({ user }))(Navbar);\n"]},"metadata":{},"sourceType":"module"}